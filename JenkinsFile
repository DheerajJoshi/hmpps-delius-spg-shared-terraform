pipeline {
    agent { label "!master && !windows_slave" }
    options {
        disableConcurrentBuilds()
    }

    tools {
            maven 'Maven 3.3.9'
            jdk 'jdk8'
    }


    stages {
        stage ('Initialize') {
            steps {
                sh '''
                    echo "PATH = ${PATH}"
                    echo "M2_HOME = ${M2_HOME}"
                    echo "WORKSPACE = ${WORKSPACE}"
                '''
            }
        }

        stage ('push-spg-docker') {
            steps {
                sh 'ls -laR'
                sh 'sh scripts/image_push.sh'
            }
        }


    }
}

